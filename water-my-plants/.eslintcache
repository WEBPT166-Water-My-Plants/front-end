[{"/Users/markhillin/Projects/front-end/water-my-plants/src/index.js":"1","/Users/markhillin/Projects/front-end/water-my-plants/src/App.js":"2","/Users/markhillin/Projects/front-end/water-my-plants/src/components/PrivateRoute.js":"3","/Users/markhillin/Projects/front-end/water-my-plants/src/components/Login.js":"4","/Users/markhillin/Projects/front-end/water-my-plants/src/utils/axiosWithAuth.js":"5","/Users/markhillin/Projects/front-end/water-my-plants/src/components/PlantList.js":"6","/Users/markhillin/Projects/front-end/water-my-plants/src/components/PlantPage.js":"7","/Users/markhillin/Projects/front-end/water-my-plants/src/components/Home.jsx":"8","/Users/markhillin/Projects/front-end/water-my-plants/src/components/Styles/StyledComponents.js":"9","/Users/markhillin/Projects/front-end/water-my-plants/src/components/Header.jsx":"10","/Users/markhillin/Projects/front-end/water-my-plants/src/components/RegisterForm.jsx":"11"},{"size":259,"mtime":1609899178000,"results":"12","hashOfConfig":"13"},{"size":750,"mtime":1609902975000,"results":"14","hashOfConfig":"13"},{"size":454,"mtime":1609899178000,"results":"15","hashOfConfig":"13"},{"size":2110,"mtime":1609899178000,"results":"16","hashOfConfig":"13"},{"size":267,"mtime":1609899178000,"results":"17","hashOfConfig":"13"},{"size":2793,"mtime":1609899178000,"results":"18","hashOfConfig":"13"},{"size":637,"mtime":1609899178000,"results":"19","hashOfConfig":"13"},{"size":1383,"mtime":1609989409000,"results":"20","hashOfConfig":"13"},{"size":1097,"mtime":1609905485000,"results":"21","hashOfConfig":"13"},{"size":535,"mtime":1609904868000,"results":"22","hashOfConfig":"13"},{"size":4468,"mtime":1609904111000,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"rcmbk0",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"30"},"/Users/markhillin/Projects/front-end/water-my-plants/src/index.js",[],"/Users/markhillin/Projects/front-end/water-my-plants/src/App.js",[],"/Users/markhillin/Projects/front-end/water-my-plants/src/components/PrivateRoute.js",[],["48","49"],"/Users/markhillin/Projects/front-end/water-my-plants/src/components/Login.js",[],"/Users/markhillin/Projects/front-end/water-my-plants/src/utils/axiosWithAuth.js",[],"/Users/markhillin/Projects/front-end/water-my-plants/src/components/PlantList.js",[],"/Users/markhillin/Projects/front-end/water-my-plants/src/components/PlantPage.js",[],"/Users/markhillin/Projects/front-end/water-my-plants/src/components/Home.jsx",[],"/Users/markhillin/Projects/front-end/water-my-plants/src/components/Styles/StyledComponents.js",[],"/Users/markhillin/Projects/front-end/water-my-plants/src/components/Header.jsx",[],"/Users/markhillin/Projects/front-end/water-my-plants/src/components/RegisterForm.jsx",["50"],"import React, { useState, useEffect } from 'react';\nimport * as yup from 'yup';\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nimport { useHistory } from 'react-router-dom';\nimport { StyledForm, StyledTextInput } from './Styles/StyledComponents';\nimport plantImg from '../utils/waterplants.jpg';\nimport Header from './Header';\n\nexport default function RegisterForm() {\n  //states\n  const [formState, setFormState] = useState({\n    username: '',\n    phonenumber: '',\n    password: '',\n  });\n  const [errors, setErrors] = useState({\n    username: '',\n    phonenumber: '',\n    password: '',\n  });\n\n  const [subBtn, setSubBtn] = useState(false);\n\n  const history = useHistory();\n\n  const phoneRegExp = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\n\n  const schema = yup.object().shape({\n    username: yup\n      .string()\n      .trim()\n      .required('A username is required.')\n      .min(4, 'Username must be at lease 4 characters long')\n      .max(20, 'Username cannot exceed 20 characters'),\n\n    phonenumber: yup.string().matches(phoneRegExp, 'Phone number is not valid'),\n\n    password: yup\n      .string()\n      .trim()\n      .required('A username is required.')\n      .min(6, 'Username must be at lease 6 characters long')\n      .max(12, 'Password cannot exceed 20 characters'),\n  });\n\n  const validation = (event) => {\n    yup\n      .reach(schema, event.target.name)\n      .validate(event.target.value)\n      .then(() => {\n        setErrors({ ...errors, [event.target.name]: '' });\n      })\n      .catch((err) => {\n        setErrors({ ...errors, [event.target.name]: err.errors[0] });\n      });\n  };\n\n  useEffect(() => {\n    schema.isValid(formState).then((valid) => {\n      setSubBtn(!valid);\n    });\n  }, [formState]);\n\n  const inputChange = (event) => {\n    const data = {\n      ...formState,\n      [event.target.name]:\n        event.target.type === 'checkbox'\n          ? event.target.checked\n          : event.target.value,\n    };\n    validation(event);\n    setFormState(data);\n  };\n\n  const submitForm = (event) => {\n    event.preventDefault();\n    axiosWithAuth()\n      .post('https://plant-tender.herokuapp.com/api/auth/register', formState)\n      .then((res) => {\n        console.log(res);\n        window.localStorage.setItem('token', res.data.token);\n        setFormState({\n          username: '',\n          phonenumber: '',\n          password: '',\n        });\n        history.push('/plants');\n      })\n      .catch((err) => console.log(err.response));\n  };\n\n  return (\n    <div>\n      <Header />\n\n      <section className=\"form-container\">\n        <StyledForm>\n          <form onSubmit={submitForm}>\n            <div>\n              <h1>Water My Plants</h1>\n              <img src={plantImg} alt=\"registerImage\"/>\n            </div>\n            <div className=\"user-name\">\n              <h3>Enter your Username</h3>\n              <StyledTextInput>\n                <label htmlFor=\"name\">\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    placeholder=\"Username\"\n                    id=\"username\"\n                    value={formState.username}\n                    onChange={inputChange}\n                  />\n                </label>\n              </StyledTextInput>\n              <p>{errors.username}</p>\n            </div>\n            <div className=\"user-number\">\n              <h3>Enter your Phonenumber</h3>\n              <label>\n                <input\n                  type=\"text\"\n                  name=\"phonenumber\"\n                  placeholder=\"xxx-xxx-xxxx\"\n                  id=\"phonenumber\"\n                  value={formState.phonenumber}\n                  onChange={inputChange}\n                />\n              </label>\n              <p>{errors.phonenumber}</p>\n            </div>\n            <div className=\"user-password\">\n              <h3>Enter a Password</h3>\n              <label>\n                <input\n                  type=\"text\"\n                  name=\"password\"\n                  placeholder=\"password\"\n                  id=\"password\"\n                  value={formState.password}\n                  onChange={inputChange}\n                />\n              </label>\n              <p>{errors.password}</p>\n            </div>\n            <button disabled={subBtn} type=\"submitBtn\">\n              Register\n            </button>\n          </form>\n        </StyledForm>\n      </section>\n    </div>\n  );\n}\n",{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":62,"column":6,"nodeType":"57","endLine":62,"endColumn":17,"suggestions":"58"},"no-native-reassign",["59"],"no-negated-in-lhs",["60"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'schema'. Either include it or remove the dependency array.","ArrayExpression",["61"],"no-global-assign","no-unsafe-negation",{"desc":"62","fix":"63"},"Update the dependencies array to be: [formState, schema]",{"range":"64","text":"65"},[1781,1792],"[formState, schema]"]